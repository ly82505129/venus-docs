(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{430:function(s,t,a){"use strict";a.r(t);var e=a(54),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"background"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[s._v("#")]),s._v(" Background")]),s._v(" "),a("p",[s._v("venus-cluster is next generation of venus-sealer, which is responsible for growth (PoRep) and maintenance (PoSt) storage power in the filecoin network. Compared with venus-sealer, PoSt of the sectors is now handled by venus-worker while the venus-sector-manager sub-module is responsible for interacting with the chain and providing necessary service API interfaces for venus-worker on demand. In the old design, venus-sealer is a central scheduler that all workers need to be registered with. When a sealing task is queued, venus-sealer tries to select the worker with enough available resources to process the task. In the new design, workers in venus-cluster are independent from each other, who handles the entire sealing pipeline till sector is commited on-chain during which RPC calls are made to venus-sector-manager to obtain information such as latest SectorID, ticket and etc.")]),s._v(" "),a("p",[s._v("venus-cluster and venus-sealer both have their own merits in sealing. Generally speaking, venus-cluster simplifies the deployment process, and workers can now independently manage the sealing pipeline, reducing cluster complexity while requiring higher hardwares specs for each worker box. Worker deployment of venus-sealer could be more flexible where each worker only manages one or more phases of the sealing pipeline, thus enabling lower hardware spec workers to work togther. However, this may also creates uncertainty in the sealing pipeline. If a problem occurs, it may cause a large amount of sectors being stuck and may require experienced operator to weigh in and figure out exactly which sealing phase has gone wrong.")]),s._v(" "),a("p",[s._v("When choosing which venus sealing component to use, you should evaluate based on your own hardware resources and technical capacity. This document mainly introduces the deployment of venus-cluster.")]),s._v(" "),a("h2",{attrs:{id:"deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[s._v("#")]),s._v(" Deployment")]),s._v(" "),a("p",[s._v("When you compile venus-cluster, it will generate binaries of venus-worker, venus-sector-manager and venus-wallet.")]),s._v(" "),a("ul",[a("li",[s._v("venus-worker: responsilbe for sector sealing; all sealing phases a sector has to go through will be done in one worker")]),s._v(" "),a("li",[s._v("venus-sector-manager: manages windowPost; provides chain services")]),s._v(" "),a("li",[s._v("venus-wallet: manages signing services")])]),s._v(" "),a("h2",{attrs:{id:"start-venus-wallet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#start-venus-wallet"}},[s._v("#")]),s._v(" Start venus-wallet")]),s._v(" "),a("p",[s._v("Run venus-wallet module in background.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./venus-wallet run "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" wallet.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("Use "),a("code",[s._v("tail -f wallet.log")]),s._v(" to monitor wallet log.")])]),s._v(" "),a("p",[s._v("Setup a password for your venus-wallet.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-wallet setpwd\nPassword:******\nEnter Password again:******\nPassword "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" successfully\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("Please keep backups of your password and store them properly or you will lose contorl of your wallet.")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("When restarting your wallet, manuually unlock your wallet or you wallet won't be able to sign any messages during sealing or other tasks.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-wallet unlock\nPassword:\n")])])]),a("p",[s._v("Use "),a("code",[s._v("--password")]),s._v(" for auto unlocking after running.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-wallet run --password\n")])])]),a("p",[s._v("Check current state your wallet.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-wallet lock-state\nwallet state: unlocked\n")])])])]),s._v(" "),a("p",[s._v("Generate owner and worker addresses. (If you don't have an existing miner id)")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-wallet new bls\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("OWNER_ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n$ ./venus-wallet new bls\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("WORKER_ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("If you are testing on Calibration, you have to fund all your addresses with test coins from faucets. For calibration, use this "),a("a",{attrs:{href:"https://faucet.calibration.fildev.network/funds.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("faucet"),a("OutboundLink")],1),s._v(".")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("Use "),a("code",[s._v("./venus-wallet import")]),s._v(" command for importing addresses from private keys.")])]),s._v(" "),a("p",[s._v("Change "),a("code",[s._v("[APIRegisterHub]")]),s._v(" section of  "),a("code",[s._v("~/.venus_wallet/config.toml")]),s._v(" using the credential you get from shared module admin.")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("APIRegisterHub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("RegisterAPI")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/ip4/<IP_ADDRESS_OF_VENUS_GATEWAY>/tcp/45132"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Token")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<AUTH_TOKEN_FOR_VENUS_WALLET>"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("SupportAccounts")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<ACCOUNT_NAME>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("Make sure above 3 params are correctly set, or connection to venus shared modules will fail.")])]),s._v(" "),a("p",[s._v("Restart venus-wallet so that the changes takes into effect.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep [PID] of venus-wallet process")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" wallet\nroot   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6704")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2361236")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43148")]),s._v(" pts/2   Sl   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":33   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":18 ./venus-wallet run\nroot   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("112828")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("952")]),s._v(" pts/2    S+   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":46   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" --color"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto venus-wallet\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill the process and restart")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./venus-wallet run "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" wallet.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])]),a("p",[s._v("You should see logs close to the following indicating successful connection to "),a("code",[s._v("venus-gateway")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-07-12T15:14:12.457+0800    INFO    wallet_event    wallet_event/listenevent.go:197 connect to server fcf714b2-eeb6-498b-aafc-5e58eccd9d0f  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"api hub"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/ip4/<IP_ADDRESS>/tcp/45132"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("Using process controll like  "),a("code",[s._v("systemmd")]),s._v(" or "),a("code",[s._v("supervisord")]),s._v(" is recommended.")])]),s._v(" "),a("h2",{attrs:{id:"run-venus-sector-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-venus-sector-manager"}},[s._v("#")]),s._v(" Run venus-sector-manager")]),s._v(" "),a("p",[s._v("Init venus-sector-manager.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# use --home flag for local data storage, default: ~/.venus-sector-manager")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# use --net for network selection, testnetnet, 2k, cali, forcenet, default: mainnet")]),s._v("\n$ ./venus-sector-manager --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("forcenet daemon init\n")])])]),a("p",[s._v("Create initial config file @  "),a("code",[s._v("~/.venus-sector-manager/sector-manager.cfg")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Default config:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("SectorManager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  PreFetch = true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  [[SectorManager.Miners]]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ID = 10000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    InitNumber = 0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    MaxNumber = 10000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    Disabled = false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Commitment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  [Commitment.DefaultPolicy]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    CommitBatchThreshold = 0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    CommitBatchMaxWait = "0s"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    CommitCheckInterval = "0s"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    EnableBatchProCommit = false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    PreCommitBatchThreshold = 0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    PreCommitBatchMaxWait = "0s"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    PreCommitCheckInterval = "0s"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    EnableBatchPreCommit = false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    PreCommitGasOverEstimation = 0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ProCommitGasOverEstimation = 0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    BatchPreCommitGasOverEstimation = 0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    BatchProCommitGasOverEstimation = 0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    MaxPreCommitFeeCap = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    MaxProCommitFeeCap = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    MaxBatchPreCommitFeeCap = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    MaxBatchProCommitFeeCap = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    MsgConfidence = 0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  [Commitment.Miners]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    [Commitment.Miners.example]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      [Commitment.Miners.example.Controls]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#        PreCommit = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#        ProveCommit = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Chain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  Api = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  Token = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Messager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  Api = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  Token = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("PersistedStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  Includes = ["unavailable"]')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  [[PersistedStore.Stores]]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    Name = "storage name,like `100.100.10.1`"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    Path = "/path/to/storage/"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    Strict = false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ReadOnly = true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("PoSt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  [PoSt.Default]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    StrictCheck = false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    GasOverEstimation = 0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    MaxFeeCap = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#    MsgCheckInteval = "1m0s"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    MsgConfidence = 5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  [PoSt.Actors]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    [PoSt.Actors.10000]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#      Sender = "t1abjxfbp274xpdqcpuaykwkfb43omjotacm2p3za"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      StrictCheck = false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      GasOverEstimation = 0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#      MaxFeeCap = ""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#      MsgCheckInteval = "1m0s"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      MsgConfidence = 5")]),s._v("\n")])])]),a("p",[s._v("Add configurations for chain services in "),a("code",[s._v("sector-manager.cfg")]),s._v(" too.")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Chain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Api")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/ip4/<IP_ADDRESS_OF_VENUS>/tcp/<PORT_OF_VENUS>"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Token")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AUTH_TOKEN_FOR_ACCOUNT_NAME"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Messager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Api")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/ip4/<IP_ADDRESS_OF_VENUS_MESSAGER>/tcp/<PORT_OF_VENUS_MESSAGER>"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Token")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AUTH_TOKEN_FOR_ACCOUNT_NAME"')]),s._v("\n")])])]),a("h3",{attrs:{id:"init-a-new-miner-id-optinal-if-you-already-have-one"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#init-a-new-miner-id-optinal-if-you-already-have-one"}},[s._v("#")]),s._v(" Init a new miner id (optinal if you already have one)")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-sector-manager --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("forcenet util miner create --from"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq --sector-size"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("512MiB \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:11:20.168+0800    DEBUG   policy  policy/const.go:18      NETWORK SETUP   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"forcenet"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:11:20.185+0800    INFO    sealer  internal/util_miner.go:250      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" message receipt        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"512MiB"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t01032"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzaceb66tlt744zjrq6bvtziinlsi7vajlyux6t3rnzxx4sfjeupxliha"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:11:50.189+0800    INFO    sealer  internal/util_miner.go:268      msg state: FillMsg      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"512MiB"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t01032"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzaceb66tlt744zjrq6bvtziinlsi7vajlyux6t3rnzxx4sfjeupxliha"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:11:50.189+0800    INFO    sealer  internal/util_miner.go:250      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" message receipt        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"512MiB"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t01032"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzaceb66tlt744zjrq6bvtziinlsi7vajlyux6t3rnzxx4sfjeupxliha"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:12:20.192+0800    INFO    sealer  internal/util_miner.go:268      msg state: FillMsg      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"512MiB"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t01032"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzaceb66tlt744zjrq6bvtziinlsi7vajlyux6t3rnzxx4sfjeupxliha"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:12:20.192+0800    INFO    sealer  internal/util_miner.go:250      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" message receipt        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"512MiB"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t01032"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzaceb66tlt744zjrq6bvtziinlsi7vajlyux6t3rnzxx4sfjeupxliha"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:12:50.195+0800    INFO    sealer  internal/util_miner.go:274      message landed on chain "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"512MiB"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t01032"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzaceb66tlt744zjrq6bvtziinlsi7vajlyux6t3rnzxx4sfjeupxliha"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"smcid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzacecejxxqdtzyyrivhc2h4pqjdfr43dwlwbbtd7kxzbbiixzmsl6k52"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"height"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92099")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:12:50.195+0800    INFO    sealer  internal/util_miner.go:285      miner actor: t01033 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t2sqliwznayjwcjke6ypex3ox5lajcwpasg7wc2fi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"512MiB"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"from"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"actor"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t01032"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzaceb66tlt744zjrq6bvtziinlsi7vajlyux6t3rnzxx4sfjeupxliha"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"smcid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bafy2bzacecejxxqdtzyyrivhc2h4pqjdfr43dwlwbbtd7kxzbbiixzmsl6k52"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"height"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92099")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("Get miner id from above log. Check miner information.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-sector-manager --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("forcenet util miner info t01033\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:19:19.236+0800    DEBUG   policy  policy/const.go:18      NETWORK SETUP   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"forcenet"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nMiner: t01033\nOwner: t01032\nWorker: t01032\nNewWorker: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("empty"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nControls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nWokerChangeEpoch: -1\nMultiaddrs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nSectorSize: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("536870912")]),s._v("\nWindowPoStPartitionSectors: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),a("h3",{attrs:{id:"start-daemon"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#start-daemon"}},[s._v("#")]),s._v(" Start daemon")]),s._v(" "),a("p",[s._v("Before starting daemon, couple more configurations need to be done. Miner id and sector id.")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("SectorManager.Miners")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("ID")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1033")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# miner id, ex, t01033 -> 1033 (leave out "t" and "f")')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("InitNumber")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# min sid ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("MaxNumber")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# max sid")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Disabled")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# false: allow sealing; true: maintenance only (windowPost)")]),s._v("\n")])])]),a("p",[s._v("Addresses for P2 and C2.")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Commitment.Miners")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Commitment.Miners.1033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("Commitment.Miners.1033.Controls")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("PreCommit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Your choice of address")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("ProveCommit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Your choice of address")]),s._v("\n")])])]),a("p",[s._v("Persisted store path.")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("PersistedStore.Stores")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"store-f01033"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# name of your choice")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Path")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Absolute path ")]),s._v("\n")])])]),a("p",[s._v("WindowPost address.")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("PoSt.Actors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("PoSt.Actors.1033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("Sender")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Your choice of address")]),s._v("\n")])])]),a("p",[s._v("Make sure the above configurations are correctly set and start daemon.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./venus-sector-manager daemon run --listen"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:1789 --poster"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" manager.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("Use "),a("code",[s._v("--poster")]),s._v(" flag for enabling and disabling windowPost for this daemon process")])]),s._v(" "),a("p",[s._v("First run will print configurations to the log.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("021-09-28T16:51:03.850+0800    INFO    dep     dep/sealer_constructor.go:69    Sector-manager initial cfg: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SectorManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  PreFetch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SectorManager.Miners"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    ID "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1033")]),s._v("\n    InitNumber "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    MaxNumber "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n    Disabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Commitment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Commitment.DefaultPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    CommitBatchThreshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    CommitBatchMaxWait "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0s"')]),s._v("\n    CommitCheckInterval "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0s"')]),s._v("\n    EnableBatchProCommit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    PreCommitBatchThreshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    PreCommitBatchMaxWait "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0s"')]),s._v("\n    PreCommitCheckInterval "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0s"')]),s._v("\n    EnableBatchPreCommit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    PreCommitGasOverEstimation "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n    ProCommitGasOverEstimation "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n    BatchPreCommitGasOverEstimation "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n    BatchProCommitGasOverEstimation "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n    MaxPreCommitFeeCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    MaxProCommitFeeCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    MaxBatchPreCommitFeeCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    MaxBatchProCommitFeeCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    MsgConfidence "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Commitment.Miners"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Commitment.Miners.1033"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Commitment.Miners.1033.Controls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        PreCommit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v("\n        ProveCommit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Commitment.Miners.example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Commitment.Miners.example.Controls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        PreCommit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n        ProveCommit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Chain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  Api "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/ip4/192.168.200.12/tcp/3453"')]),s._v("\n  Token "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoibGl0YW8wNCIsInBlcm0iOiJzaWduIiwiZXh0IjoiIn0.rezCJILQkXw0hZrCYdyVVX_dB2ZqqlXWCk4izAqnld8"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Messager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  Api "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/ip4/192.168.200.12/tcp/39812"')]),s._v("\n  Token "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoibGl0YW8wNCIsInBlcm0iOiJzaWduIiwiZXh0IjoiIn0.rezCJILQkXw0hZrCYdyVVX_dB2ZqqlXWCk4izAqnld8"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PersistedStore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  Includes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PersistedStore.Stores"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    Name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"store-f01033"')]),s._v("\n    Path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/mnt/test"')]),s._v("\n    Strict "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    ReadOnly "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PoSt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PoSt.Default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    StrictCheck "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    GasOverEstimation "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n    MaxFeeCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    MsgCheckInteval "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1m0s"')]),s._v("\n    MsgConfidence "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PoSt.Actors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PoSt.Actors.1033"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      Sender "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3skelnvntu5m7kb656jfvr5dfy663aru76c6pxqp4qf6madrm7s4db77ysasefohdjypmoumc3niug6xmcxuq"')]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.859+0800    INFO    badger  v2@v2.2007.2/logger.go:46       All "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tables opened "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 0s\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/ipfs/.venus-sector-manager/meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.860+0800    DEBUG   kv      kvstore/prefix_wrapper.go:26    kv wrapped      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sector-number/"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix-len"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.863+0800    INFO    badger  v2@v2.2007.2/logger.go:46       All "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tables opened "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 0s\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/ipfs/.venus-sector-manager/offline_meta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.863+0800    DEBUG   kv      kvstore/prefix_wrapper.go:26    kv wrapped      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sector-states/"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix-len"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.863+0800    DEBUG   kv      kvstore/prefix_wrapper.go:26    kv wrapped      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sector-states-offline/"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix-len"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.870+0800    INFO    badger  v2@v2.2007.2/logger.go:46       All "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tables opened "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 0s\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/ipfs/.venus-sector-manager/sector-index"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.872+0800    INFO    confmgr confmgr/local_mgr.go:133        will reload sector-manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/home/ipfs/.venus-sector-manager/sector-manager.cfg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" once receive reload sig\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.872+0800    INFO    confmgr confmgr/local_mgr.go:49 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" conf mgr start\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.874+0800    INFO    dep     dep/sealer_constructor.go:215   miner info pre-fetched  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"miner"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1033"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.874+0800    INFO    sealer  venus-sector-manager/server.go:38       daemon running\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-09-28T16:51:03.874+0800    INFO    sealer  venus-sector-manager/server.go:31       trying to listen on "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:1789\n")])])]),a("h2",{attrs:{id:"run-venus-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-venus-worker"}},[s._v("#")]),s._v(" Run venus-worker")]),s._v(" "),a("h3",{attrs:{id:"cgroup-optional"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cgroup-optional"}},[s._v("#")]),s._v(" cgroup (optional)")]),s._v(" "),a("p",[s._v("Since venus-worker allows users to do sealing in the form of sub-processes, and manage these sub-processes through cgroup, it is necessary to execute the following commands to obtain the relevant operation permissions of the cgroup.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./create-cgroup.sh\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("Note that this script will assign the execution permissions of the current user to a specific cgroup resource group. This means that if the user intends to start the venus-cluster with another user, it needs to switch to the target user before executing the script.")])]),s._v(" "),a("h3",{attrs:{id:"config-seal-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-seal-storage"}},[s._v("#")]),s._v(" Config seal storage")]),s._v(" "),a("p",[s._v("Seal storage will be storing cache files during sealing process. By design, venus-worker will match computation resources to storage resources on demand while keeping sectors intact from each other.")]),s._v(" "),a("p",[s._v("Format seal storage. Muliple path can be configured. Each corresponds to a sector. For example, if "),a("code",[s._v("<path/to/local/store1>")]),s._v(" is created then all cache files of this sector will be stored under this path.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-worker store seal-init -l "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path/to/local/store"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path/to/local/store"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path/to/local/store"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("Once formatted, folder structure will resemble the following.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al seal/\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":04 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 seal_01\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 seal_02\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al seal/seal_01\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 data\n-rw-rw-r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ipfs ipfs    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 .holder\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":10 meta\n")])])]),a("h3",{attrs:{id:"config-permanent-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-permanent-storage"}},[s._v("#")]),s._v(" Config permanent storage")]),s._v(" "),a("p",[s._v("Configure permanent storage path for sealed sectors. Mount your remote storage solution and format the it to prevent losing the mount.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ./venus-worker store file-init -l "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path/to/remote/store"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("Remote storage should look like the following after execution.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path/to/remote/store"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\ndrwxrwxrwx "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" ipfs ipfs "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":12 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":26 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-rw-rw-r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ipfs ipfs    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":12 .holder\n")])])]),a("h3",{attrs:{id:"configurations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configurations"}},[s._v("#")]),s._v(" Configurations")]),s._v(" "),a("p",[s._v("Toml style config file.")]),s._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# venus-sector-manager API")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("sealer_rpc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("url")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ws://127.0.0.1:1789/rpc/v0"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sealing related config")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("sealing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# allow deals?")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("enable_deals")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# when sealing fails, how many times to retry before giving up")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("max_retries")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# path to local storage")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<path/to/local/store1>"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<path/to/local/store2>"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<path/to/local/store3>"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# number of parallel tasks for each phase")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# number of PC1 in parallel")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pc1 = 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("pc2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("c2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# path to remote permanent storage")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("remote")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("path")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<path/to/remote/store>"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# C2 sub processes related")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("processors.pc2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sub processes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("external")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [[processors.pc2.subs]]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [processors.pc2.subs.cgroup]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# cpuset = "24-27"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [[processors.pc2.subs]]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [processors.pc2.subs.cgroup]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# cpuset = "28-31"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# C2 sub processes related")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("processors.c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sub processes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("external")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# proceessors can be used by sub process, optional if you haven't set cgroup previously")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [[processors.c2.subs]]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [processors.c2.subs.cgroup]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# cpuset = "32-47"')]),s._v("\n")])])]),a("p",[s._v("Start worker.")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RUST_LOG")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("debug "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TMPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("./ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./venus-worker daemon --config"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("./venus-worker.toml "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" worker.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);